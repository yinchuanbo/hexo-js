---
title: "webpack5-高级篇3"
date: 2024-02-19T22:41:45+08:00
---

## 提升构建性能

### 八个通用构建优化

无论是在 **开发环境** 还是在 **生成环境** 下运行构建脚本，以下最佳实践都是有所帮助：

**1. 更新到最新版本**

使用最新的 webpack 版本，

将 Node.js 更新到最新版本，也有助于提高性能，除此之外，将你的 package 管理工具（npm 或 yarn）更新到最新版本，也有助于提高性能，

较新的版本能够建立更高效的模块树以及提高解析速度。

**2. loader**

将 loader 应用于最少数量的必要模块，而非如下：

```js
module.exports = {
  module: {
    rules: [
      {
        test: /\.js$/,
        loader: "babel-loader",
      },
    ],
  },
};
```

通过使用 include 字段，仅将 loader 应用在实际需要将其转换的模块：

```js
const path = require("path");
module.exports = {
  module: {
    rules: [
      {
        test: /\.js$/,
        include: path.resolve(__dirname, "src"),
        loader: "babel-loader",
      },
    ],
  },
};
```

**3. 引导（bootstrap）**

每个额外的 `loader/plugin` 都有其启动时间，尽量少的使用工具。

**4. 解析**

以下步骤可以提高解析速度：

- 减少 `resolve.modules`、`resolve.extensions`、`resolve.mainFiles`、`resolve.descriptionFiles` 中条目数量，因为他们会增加文件系统调用的次数。

【未完待续...】
