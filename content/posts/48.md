---
title: "构建优化"
date: 2023-09-14T07:06:22+08:00
---

### 压缩与合并

**资源压缩和合并的优点:**

- 减少 http 的请求数量

- 减少 http 请求的资源大小

1. HTML 压缩

**HTML 压缩的三种方式：**

- 在线网站提供 HTML 压缩服务

- 基于 nodejs 的工具：html-minifier

```js
const fs = require("fs");
const { minify } = require("html-minifier");
fs.readFile("./test.html", "utf8", (err, data) => {
  if (err) throw err;
  fs.writeFile(
    "./test_mini.html",
    minify(
      data,
      {
        removeComments: true, // 去掉注释
        collapseWhitespace: true, // 去除空格
        minifyJS: true, // 压缩 HTML 中的 JavaScript
        minifyCSS: true, // 压缩 HTML 中的 css
      },
      () => console.log("success")
    )
  );
});
```

- 服务端模板引擎的渲染压缩

2. CSS 压缩

3. JavaScript 压缩和混淆

4. 文件合并
